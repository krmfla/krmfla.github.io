{"version":3,"sources":["app.js"],"names":["production","document","getElementById","dataset","mode","device","deviceCheck","MobileDetect","userAgent","result","parameterName","tmp","location","item","split","checkCookie","decodeURIComponent","cookie","substring","charAt","window","navigator","version","os","md","match","mixin","projApi","errorMsg","loading","Vue","devtools","config","debug","addEventListener","console","log","computed","watch","querySelector","envMode","is_ready","gaEvant","dataLayer","val","classList","toggle","methods","gtmData","setCookie","push","cname","cvalue","Date","setTime","level_info","time","_LTracker","expires","d","level","stringify","content","logger","tag","JSON","path","href","timestamp","now","checkOnline","alert","scrollTo","to","change","animateScroll","documentElement","target","duration","startEl","element","Math","abs","offsetTop","scrollTop","currentTime","increment","easeInOutQuad","b","c","t","parseInt","requestAnimationFrame","toString","grecaptcha","_grecaptcha","_x","apply","this","arguments","page","vm","Promise","execute","resolve","reject","action","token","reCaptcha","then","aLink","i","alinks","setAttribute","querySelectorAll","length","mounted","ProjectApi"],"mappings":"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","file":"app.js","sourcesContent":["const production = document.getElementById(\"appjs\").dataset.mode === false;\r\nconst device = deviceCheck();\r\nconst md = new MobileDetect(window.navigator.userAgent);\r\n\r\nVue.config.devtools = !production;\r\nVue.config.debug = !production;\r\nVue.config.silent = production;\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    console.log(\"v1.01\");\r\n    console.log(device);\r\n});\r\n\r\nfunction findGetParameter(parameterName) {\r\n    var result = null,\r\n        tmp = [];\r\n    location.search\r\n        .substr(1)\r\n        .split(\"&\")\r\n        .forEach(function (item) {\r\n            tmp = item.split(\"=\");\r\n            if (tmp[0] === parameterName)\r\n                result = decodeURIComponent(tmp[1]);\r\n        });\r\n    return result;\r\n}\r\n\r\nfunction checkCookie(parameterName) {\r\n    var result = null,\r\n        tmp = [];\r\n    var cookie = document.cookie;\r\n    cookie.split(\";\")\r\n        .forEach(function (item) {\r\n            if (item.charAt(0) == \" \") {\r\n                item = item.substring(1);\r\n            }\r\n            tmp = item.split(\"=\");\r\n            if (tmp[0] === parameterName)\r\n                result = tmp[1];\r\n        })\r\n    return result;\r\n}\r\nfunction deviceCheck() {\r\n    var device = {};\r\n    var md = new MobileDetect(window.navigator.userAgent);\r\n    if (md.match(/android/i)) {\r\n        device.os = \"android\";\r\n        device.version = md.version(\"android\");\r\n    } else if (md.match(/(iphone|ipad|ipod);?/i)) {\r\n        device.os = \"ios\";\r\n        device.version = md.version(\"iOS\");\r\n    } else {\r\n        device.os = \"pc\";\r\n        device.version = md.version(\"Chrome\");\r\n    }\r\n    return device;\r\n}\r\n\r\n\r\nVue.mixin({\r\n    data: function () {\r\n        return {\r\n            projApi:null,\r\n            errorMsg: \"\",\r\n            envMode: production ? \"Started\" : \"Testing\",\r\n            loading: false,\r\n            is_ready: false\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n        errorMsg: function (val) {\r\n            document.querySelector('body').classList.toggle('_freeze');\r\n        }\r\n    },\r\n    methods: {\r\n        gaEvant: function (gtmData) {\r\n            dataLayer.push({'event': gtmData});\r\n            console.log(\"ga:\", gtmData);\r\n        },\r\n        // server_busy: function () {\r\n        //     var vm = this;\r\n        //     vm.errorMsg = \"系統忙碌中，請稍後在試!\";\r\n        //     vm.loading = false;\r\n        //     vm.errorCou = 6;\r\n        // },\r\n        setCookie: function (cname, cvalue, time) {\r\n            var d = new Date();\r\n            d.setTime(d.getTime() + (time * 1000));\r\n            var expires = \"expires=\" + d.toUTCString();\r\n            document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";\";\r\n        },\r\n        logger: function (level, content, tag) {\r\n            if (production) {\r\n                // level : ['ERROR' => 0, DEBUG' => 1, 'WARNING' => 2, 'INFO' => 3, 'ALL' => 4]\r\n                var level_info = ['ERROR', 'DEBUG', 'WARNING', 'INFO', 'ALL'];\r\n                _LTracker.push({\r\n                    'level': level_info[level],\r\n                    'content': JSON.stringify(content),\r\n                    'path': window.location.href,\r\n                    'tag': tag || null,\r\n                    'device': device,\r\n                    'timestamp': Date.now()\r\n                });\r\n            }\r\n        },\r\n        checkOnline: function () {\r\n            if (!navigator.onLine) {\r\n                alert(\"Internet 連線已斷開，請確認您的網路狀態。\");\r\n                // window.location.reload();\r\n            }\r\n        },\r\n        scrollTo: function (to) {\r\n            var vm = this;\r\n            // var html = document.querySelector(\"html\");\r\n            // var body = document.querySelector(\"body\");\r\n            var element = document.scrollingElement || document.documentElement;\r\n            var target = document.querySelector(to);\r\n            // var startEl = (body.scrollTop > 0) ? body : html,\r\n            var duration = 1500; //整個過程時間 可自定義\r\n            var padding = 0; //滑動後留白 可自定義\r\n            var startEl = element,\r\n                change = Math.abs(target.offsetTop - startEl.scrollTop - padding),\r\n                currentTime = 0,\r\n                increment = 50;\r\n            var animateScroll = function() {\r\n                //算出滑動的步數\r\n                Math.easeInOutQuad = function (t, b, c, d) {\r\n                    t /= d/2;\r\n                    if (t < 1) return c/2*t*t + b;\r\n                    t--;\r\n                    return -c/2 * (t*(t-2) - 1) + b;\r\n                };\r\n                currentTime += increment;\r\n                var val = Math.easeInOutQuad(currentTime, startEl, change, duration);\r\n                // console.log('val:',typeof(val))\r\n                if(startEl.scrollTop > target.offsetTop) {\r\n                    startEl.scrollTop -= parseInt(val);\r\n                    if(startEl.scrollTop <= target.offsetTop) {\r\n                        startEl.scrollTop =  target.offsetTop\r\n                        return\r\n                    }\r\n                } else {\r\n                    startEl.scrollTop = parseInt(val);\r\n                }\r\n                // console.log(val)\r\n                // console.log(startEl.scrollTop)\r\n                if(currentTime < duration) {\r\n                    requestAnimationFrame(animateScroll);\r\n                }\r\n            };\r\n            animateScroll();\r\n        },\r\n        grecaptcha: function (page) {\r\n            var vm = this;\r\n            return new Promise(function (resolve, reject) {\r\n                grecaptcha.execute('6LfUo7MUAAAAAJQAML08ruhPeYZvihLYaVvtuYrJ', {\r\n                    action: page\r\n                })\r\n                .then(function (token) {\r\n                    vm.reCaptcha = token;\r\n                    resolve()\r\n                }, function () {\r\n                    alert('Google驗證失敗，請再次嘗試\\n如無法排除此問題，建議重新整理此頁面');\r\n                    reject()\r\n                });\r\n            });\r\n        },\r\n        aLink: function() {\r\n            var alinks = document.querySelectorAll('a');\r\n            for(let i=0; i<alinks.length; i++) {\r\n                alinks[i].setAttribute('rel' ,'noreferrer noopener');\r\n            }\r\n        }\r\n    },\r\n    mounted: function () {\r\n        this.projApi = new ProjectApi(89, \"cXr7L3Pqo-GF-OcL7U3m8A==\");  // projectId, webToekn\r\n    }\r\n})\r\n"]}