"use strict";var production=!1===document.getElementById("appjs").dataset.mode,device=deviceCheck(),md=new MobileDetect(window.navigator.userAgent);function findGetParameter(o){var n,t=null;return location.search.substr(1).split("&").forEach(function(e){(n=e.split("="))[0]===o&&(t=decodeURIComponent(n[1]))}),t}function checkCookie(o){var n,t=null;return document.cookie.split(";").forEach(function(e){" "==e.charAt(0)&&(e=e.substring(1)),(n=e.split("="))[0]===o&&(t=n[1])}),t}function deviceCheck(){var e={},o=new MobileDetect(window.navigator.userAgent);return o.match(/android/i)?(e.os="android",e.version=o.version("android")):o.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=o.version("iOS")):(e.os="pc",e.version=o.version("Chrome")),e}Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=production,document.addEventListener("DOMContentLoaded",function(){console.log("v1.01"),console.log(device)}),Vue.mixin({data:function(){return{projApi:null,errorMsg:"",envMode:production?"Started":"Testing",loading:!1}},computed:{},watch:{errorMsg:function(){document.querySelector("body").classList.toggle("_freeze")}},methods:{gaEvant:function(e){dataLayer.push({event:e}),console.log("ga:",e)},setCookie:function(e,o,n){var t=new Date;t.setTime(t.getTime()+1e3*n);var r="expires="+t.toUTCString();document.cookie=e+"="+o+";"+r+";"},logger:function(e,o,n){production&&_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(o),path:window.location.href,tag:n||null,device:device,timestamp:Date.now()})},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")},scrollTo:function(e){var o=document.scrollingElement||document.documentElement,n=document.querySelector(e),t=o,r=Math.abs(n.offsetTop-t.scrollTop),i=0;!function e(){Math.easeInOutQuad=function(e,o,n,t){return(e/=t/2)<1?n/2*e*e+o:-n/2*(--e*(e-2)-1)+o},i+=50;var o=Math.easeInOutQuad(i,t,r,1500);if(t.scrollTop>n.offsetTop){if(t.scrollTop-=parseInt(o),t.scrollTop<=n.offsetTop)return void(t.scrollTop=n.offsetTop)}else t.scrollTop=parseInt(o);i<1500&&requestAnimationFrame(e)}()},grecaptcha:function(o){function e(e){return o.apply(this,arguments)}return e.toString=function(){return o.toString()},e}(function(n){var t=this;return new Promise(function(o,e){grecaptcha.execute("6LfUo7MUAAAAAJQAML08ruhPeYZvihLYaVvtuYrJ",{action:n}).then(function(e){t.reCaptcha=e,o()},function(){alert("Google驗證失敗，請再次嘗試\n如無法排除此問題，建議重新整理此頁面"),e()})})}),aLink:function(){for(var e=document.querySelectorAll("a"),o=0;o<e.length;o++)e[o].setAttribute("rel","noreferrer noopener")}},mounted:function(){this.projApi=new ProjectApi(89,"cXr7L3Pqo-GF-OcL7U3m8A==")}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRhdGFzZXQiLCJtb2RlIiwiZGV2aWNlIiwiZGV2aWNlQ2hlY2siLCJNb2JpbGVEZXRlY3QiLCJ1c2VyQWdlbnQiLCJmaW5kR2V0UGFyYW1ldGVyIiwicGFyYW1ldGVyTmFtZSIsInRtcCIsInJlc3VsdCIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyIiwic3BsaXQiLCJmb3JFYWNoIiwiaXRlbSIsImRlY29kZVVSSUNvbXBvbmVudCIsImNvb2tpZSIsImNoYXJBdCIsInN1YnN0cmluZyIsIm1hdGNoIiwidmVyc2lvbiIsIm5hdmlnYXRvciIsIm1kIiwib3MiLCJWdWUiLCJkZXZ0b29scyIsImNvbmZpZyIsImRlYnVnIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJwcm9qQXBpIiwiZXJyb3JNc2ciLCJlbnZNb2RlIiwibG9hZGluZyIsIndhdGNoIiwibWV0aG9kcyIsInF1ZXJ5U2VsZWN0b3IiLCJndG1EYXRhIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZGF0YUxheWVyIiwicHVzaCIsImV2ZW50Iiwic2V0VGltZSIsImdldFRpbWUiLCJjbmFtZSIsImN2YWx1ZSIsInRpbWUiLCJleHBpcmVzIiwiRGF0ZSIsImQiLCJ0b1VUQ1N0cmluZyIsImxldmVsIiwiY29udGVudCIsInRhZyIsImxvZ2dlciIsImxldmVsX2luZm8iLCJfTFRyYWNrZXIiLCJ3aW5kb3ciLCJocmVmIiwicGF0aCIsIm5vdyIsInRpbWVzdGFtcCIsImNoZWNrT25saW5lIiwib25MaW5lIiwiYWxlcnQiLCJzY3JvbGxUbyIsInRvIiwiZWxlbWVudCIsInNjcm9sbGluZ0VsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJkdXJhdGlvbiIsInN0YXJ0RWwiLCJjaGFuZ2UiLCJhYnMiLCJ0YXJnZXQiLCJvZmZzZXRUb3AiLCJzY3JvbGxUb3AiLCJjdXJyZW50VGltZSIsImFuaW1hdGVTY3JvbGwiLCJNYXRoIiwiZWFzZUluT3V0UXVhZCIsInQiLCJiIiwiYyIsInZhbCIsInBhcnNlSW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ3JlY2FwdGNoYSIsIl9ncmVjYXB0Y2hhIiwiX3giLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJ0b1N0cmluZyIsInBhZ2UiLCJ2bSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXhlY3V0ZSIsImFjdGlvbiIsInRoZW4iLCJ0b2tlbiIsInJlQ2FwdGNoYSIsImFMaW5rIiwiYWxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJzZXRBdHRyaWJ1dGUiLCJQcm9qZWN0QXBpIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxZQUErRCxJQUFsREMsU0FBU0MsZUFBZSxTQUFTQyxRQUFRQyxLQUN0REMsT0FBU0MsY0FEVE4sR0FBQUEsSUFBVU8sYUFBWUwsT0FBQUEsVUFBZU0sV0FhM0MsU0FBU0MsaUJBQWlCQyxHQUN0QixJQUNJQyxFQURBQyxFQUFTLEtBY2IsT0FaQUMsU0FBU0MsT0FJRUMsT0FBUUMsR0FDUEwsTUFBQSxLQUxaTSxRQUFBLFNBQUFDLElBUU9OLEVBQVBNLEVBQUFGLE1BQUEsTUFDSCxLQUFBTixJQUhlRSxFQUFTTyxtQkFBbUJSLEVBQUksT0FNeENDLEVBR0pRLFNBQU9KLFlBQ0ZDLEdBQ0csSUFDSUMsRUFEQUEsRUFBS0csS0FXakIsT0FUU3BCLFNBQUFtQixPQUpGSixNQUFNLEtBS0ZDLFFBQVFELFNBQVhFLEdBRUlOLEtBREFNLEVBQVdSLE9BQUFBLEtBTnZCUSxFQUFBQSxFQUFBSSxVQUFBLEtBVUhYLEVBQUFPLEVBQUFGLE1BQUEsTUFKbUIsS0FBT04sSUFLbEJKLEVBQWNLLEVBQUEsTUFFVkMsRUFDVCxTQUFPVyxjQUNIbEIsSUFBQUEsRUFBWSxHQUNaQSxFQUFPbUIsSUFBQUEsYUFBYUEsT0FBUUMsVUFBNUJqQixXQVFKLE9BVkFrQixFQUdPSCxNQUFPQSxhQUNWbEIsRUFBQXNCLEdBQVksVUFDWnRCLEVBQU9tQixRQUFhQSxFQUFBQSxRQUFRLFlBQ3pCRSxFQUFBSCxNQUFBLDBCQUNIbEIsRUFBQXNCLEdBQUEsTUFDQXRCLEVBQU9tQixRQUFhQSxFQUFBQSxRQUFRLFNBRDVCbkIsRUFBT3NCLEdBQUssS0FHaEJ0QixFQUFBbUIsUUFBQUUsRUFBQUYsUUFBQSxXQUFPbkIsRUFyRFh1QixJQUFNRixPQUFLRyxVQUFJdEIsV0FFZnFCLElBQUlFLE9BQU9ELE9BQVg3QixXQUNBNEIsSUFBSUUsT0FBT0MsT0FBUy9CLFdBR3BCQyxTQUFTK0IsaUJBQWlCLG1CQUFvQixXQUMxQ0MsUUFBUUMsSUFBSSxTQUNaRCxRQUFRQyxJQUFJN0IsVUFvREo4QixJQUFBQSxNQUFBQSxDQUNBQyxLQUFBQSxXQUNBQyxNQUFTckMsQ0FDVHNDLFFBQVMsS0FKYkYsU0FBQSxHQUZFQyxRQUFBckMsV0FBQSxVQUFBLFVBU0lzQyxTQVRKLElBYUVyQyxTQUFRLEdBYlZzQyxNQUFBLENBZ0JOQyxTQUFTLFdBQ0V2QyxTQUFFd0MsY0FBVUMsUUFBU0MsVUFBQUMsT0FBQSxhQUNUSixRQUFmLENBQ0FQLFFBQUEsU0FBbUJTLEdBSGxCRyxVQUFBQyxLQUFBLENBQUFDLE1BQUFMLElBS0xULFFBQUFDLElBQUEsTUFBQVEsSUFRTU0sVUFBVUMsU0FBRkMsRUFBbUJDLEVBQTdCQyxHQUNJQyxJQUFBQSxFQUFVLElBQUFDLEtBQ2RyRCxFQUFRK0MsUUFBUk8sRUFBa0JMLFVBQUEsSUFBQUUsR0FmakIsSUFBQUMsRUFBQSxXQUFBRSxFQUFBQyxjQWlCR3ZELFNBQUFtQixPQUFVcUMsRUFBT0MsSUFBU0MsRUFBSyxJQUFBTixFQUFBLEtBRS9CTyxPQUFBLFNBQUFILEVBQUFDLEVBQUFDLEdBQ0lFLFlBRUFDLFVBQVNELEtBQVdKLENBQ3BCQSxNQUZXLENBQUEsUUFBQSxRQUFBLFVBQUEsT0FBQSxPQUVlQyxHQUNsQkssUUFBT2xELEtBQVNtRCxVQUhiTixHQUlETyxLQUpDRixPQUFBbEQsU0FBQW1ELEtBS0QzRCxJQUxDc0QsR0FBQSxLQU1YdEQsT0FBa0I2RCxPQU50QkMsVUFBQWIsS0FBQVksU0FXSkUsWUFBZUMsV0FDTDVDLFVBQUE0QyxRQUVUQyxNQUFBLDhCQUtEQyxTQUFBLFNBQUFDLEdBRkEsSUFHSUMsRUFBVXhFLFNBQVN5RSxrQkFBb0J6RSxTQUFTMEUsZ0JBR2hEQyxFQUFKM0UsU0FBcUJ3QyxjQUFBK0IsR0FFakJLLEVBQVVKLEVBQ0pLLEVBQVFDLEtBQUlDLElBQU1BLEVBQUNDLFVBQVlKLEVBQVFLLFdBQzdDQyxFQUZKLEdBSW9CLFNBQWhCQyxJQUNBQyxLQUFBQyxjQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFsQyxHQUVJLE9BREMrQixHQUFBQSxFQUFMLEdBQ0ksRUFBQUcsRUFBQSxFQUFBRixFQUFBQSxFQUFBQyxHQUVDQyxFQUFBLEtBRERGLEdBQ0NBLEVBQUEsR0FBQSxHQUFBQyxHQUhMTCxHQU5KLEdBYUksSUFBSU8sRUFBTUwsS0FBS0MsY0FBY0gsRUFBYU4sRUFBU0MsRUFkdEMsTUFjTixHQUFHTyxFQUFLQyxVQUFjSCxFQUFBQSxXQUVsQkQsR0FDUEwsRUFBUUssV0FBYVMsU0FBU0QsR0FEdkJSLEVBQVJBLFdBQTJCRCxFQUFXQSxVQUlqQyxZQUhJQyxFQUFhUyxVQUFyQlgsRUFBQUMsZ0JBR0lKLEVBQUFLLFVBQUFTLFNBQUFELEdBS1JQLEVBekJhLE1BMEJiUyxzQkFBQVIsR0FDR0QsSUFFRlUsV0FBQSxTQUFBQyxHQUFBLFNBQUFELEVBQUFFLEdBQUEsT0FBQUQsRUFBQUUsTUFBQUMsS0FBQUMsV0FBQSxPQUFBTCxFQUFBTSxTQUFBLFdBQUEsT0FBQUwsRUFBQUssWUFBQU4sRUFBQSxDQUFBLFNBQUFPLEdBeEJMLElBQUFDLEVBQUFKLEtBOEJBLE9BQU8sSUFBSUssUUFBUSxTQUFVQyxFQUFTQyxHQUp0Q3BCLFdBQWFxQixRQUFBLDJDQUFBLENBNUVaQyxPQUFBTixJQThFS08sS0FBQSxTQUFBQyxHQUFBUCxFQUFBUSxVQUFBRCxFQUFBTCxLQVNDLFdBVERqQyxNQUFBLHdDQUFBa0MsVUFBRU0sTUFBQSxXQUVSLElBRE0sSUFBR0MsRUFBVDlHLFNBQUErRyxpQkFBQSxLQUNXVixFQUFBQSxFQUFRVyxFQUFBRixFQUFBRyxPQUFBRCxJQUNmcEIsRUFBV1ksR0FBWFUsYUFBbUIsTUFBQSx5QkFLZlosUUFBQUEsV0FDSE4sS0FBRTlELFFBQVksSUFBQWlGLFdBQUEsR0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwcm9kdWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBqc1wiKS5kYXRhc2V0Lm1vZGUgPT09IGZhbHNlO1xyXG5jb25zdCBkZXZpY2UgPSBkZXZpY2VDaGVjaygpO1xyXG5jb25zdCBtZCA9IG5ldyBNb2JpbGVEZXRlY3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cclxuVnVlLmNvbmZpZy5kZXZ0b29scyA9ICFwcm9kdWN0aW9uO1xyXG5WdWUuY29uZmlnLmRlYnVnID0gIXByb2R1Y3Rpb247XHJcblZ1ZS5jb25maWcuc2lsZW50ID0gcHJvZHVjdGlvbjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuICAgIGNvbnNvbGUubG9nKFwidjEuMDFcIik7XHJcbiAgICBjb25zb2xlLmxvZyhkZXZpY2UpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGZpbmRHZXRQYXJhbWV0ZXIocGFyYW1ldGVyTmFtZSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgdG1wID0gW107XHJcbiAgICBsb2NhdGlvbi5zZWFyY2hcclxuICAgICAgICAuc3Vic3RyKDEpXHJcbiAgICAgICAgLnNwbGl0KFwiJlwiKVxyXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHRtcCA9IGl0ZW0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgICAgICBpZiAodG1wWzBdID09PSBwYXJhbWV0ZXJOYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHRtcFsxXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0Nvb2tpZShwYXJhbWV0ZXJOYW1lKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICB0bXAgPSBbXTtcclxuICAgIHZhciBjb29raWUgPSBkb2N1bWVudC5jb29raWU7XHJcbiAgICBjb29raWUuc3BsaXQoXCI7XCIpXHJcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY2hhckF0KDApID09IFwiIFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG1wID0gaXRlbS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGlmICh0bXBbMF0gPT09IHBhcmFtZXRlck5hbWUpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBbMV07XHJcbiAgICAgICAgfSlcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gZGV2aWNlQ2hlY2soKSB7XHJcbiAgICB2YXIgZGV2aWNlID0ge307XHJcbiAgICB2YXIgbWQgPSBuZXcgTW9iaWxlRGV0ZWN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGlmIChtZC5tYXRjaCgvYW5kcm9pZC9pKSkge1xyXG4gICAgICAgIGRldmljZS5vcyA9IFwiYW5kcm9pZFwiO1xyXG4gICAgICAgIGRldmljZS52ZXJzaW9uID0gbWQudmVyc2lvbihcImFuZHJvaWRcIik7XHJcbiAgICB9IGVsc2UgaWYgKG1kLm1hdGNoKC8oaXBob25lfGlwYWR8aXBvZCk7Py9pKSkge1xyXG4gICAgICAgIGRldmljZS5vcyA9IFwiaW9zXCI7XHJcbiAgICAgICAgZGV2aWNlLnZlcnNpb24gPSBtZC52ZXJzaW9uKFwiaU9TXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkZXZpY2Uub3MgPSBcInBjXCI7XHJcbiAgICAgICAgZGV2aWNlLnZlcnNpb24gPSBtZC52ZXJzaW9uKFwiQ2hyb21lXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRldmljZTtcclxufVxyXG5cclxuXHJcblZ1ZS5taXhpbih7XHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJvakFwaTpudWxsLFxyXG4gICAgICAgICAgICBlcnJvck1zZzogXCJcIixcclxuICAgICAgICAgICAgZW52TW9kZTogcHJvZHVjdGlvbiA/IFwiU3RhcnRlZFwiIDogXCJUZXN0aW5nXCIsXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXB1dGVkOiB7XHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICBlcnJvck1zZzogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnRvZ2dsZSgnX2ZyZWV6ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgZ2FFdmFudDogZnVuY3Rpb24gKGd0bURhdGEpIHtcclxuICAgICAgICAgICAgZGF0YUxheWVyLnB1c2goeydldmVudCc6IGd0bURhdGF9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnYTpcIiwgZ3RtRGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBzZXJ2ZXJfYnVzeTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vICAgICB2bS5lcnJvck1zZyA9IFwi57O757Wx5b+Z56KM5Lit77yM6KuL56iN5b6M5Zyo6KmmIVwiO1xyXG4gICAgICAgIC8vICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgIHZtLmVycm9yQ291ID0gNjtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIHNldENvb2tpZTogZnVuY3Rpb24gKGNuYW1lLCBjdmFsdWUsIHRpbWUpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAodGltZSAqIDEwMDApKTtcclxuICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNuYW1lICsgXCI9XCIgKyBjdmFsdWUgKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZ2dlcjogZnVuY3Rpb24gKGxldmVsLCBjb250ZW50LCB0YWcpIHtcclxuICAgICAgICAgICAgaWYgKHByb2R1Y3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIGxldmVsIDogWydFUlJPUicgPT4gMCwgREVCVUcnID0+IDEsICdXQVJOSU5HJyA9PiAyLCAnSU5GTycgPT4gMywgJ0FMTCcgPT4gNF1cclxuICAgICAgICAgICAgICAgIHZhciBsZXZlbF9pbmZvID0gWydFUlJPUicsICdERUJVRycsICdXQVJOSU5HJywgJ0lORk8nLCAnQUxMJ107XHJcbiAgICAgICAgICAgICAgICBfTFRyYWNrZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2xldmVsJzogbGV2ZWxfaW5mb1tsZXZlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBKU09OLnN0cmluZ2lmeShjb250ZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAncGF0aCc6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxyXG4gICAgICAgICAgICAgICAgICAgICd0YWcnOiB0YWcgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAnZGV2aWNlJzogZGV2aWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICd0aW1lc3RhbXAnOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tPbmxpbmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3Iub25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIkludGVybmV0IOmAo+e3muW3suaWt+mWi++8jOiri+eiuuiqjeaCqOeahOe2sui3r+eLgOaFi+OAglwiKTtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2Nyb2xsVG86IGZ1bmN0aW9uICh0bykge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICAvLyB2YXIgaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpO1xyXG4gICAgICAgICAgICAvLyB2YXIgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0byk7XHJcbiAgICAgICAgICAgIC8vIHZhciBzdGFydEVsID0gKGJvZHkuc2Nyb2xsVG9wID4gMCkgPyBib2R5IDogaHRtbCxcclxuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gMTUwMDsgLy/mlbTlgIvpgY7nqIvmmYLplpMg5Y+v6Ieq5a6a576pXHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gMDsgLy/mu5Hli5XlvoznlZnnmb0g5Y+v6Ieq5a6a576pXHJcbiAgICAgICAgICAgIHZhciBzdGFydEVsID0gZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIGNoYW5nZSA9IE1hdGguYWJzKHRhcmdldC5vZmZzZXRUb3AgLSBzdGFydEVsLnNjcm9sbFRvcCAtIHBhZGRpbmcpLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWUgPSAwLFxyXG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gNTA7XHJcbiAgICAgICAgICAgIHZhciBhbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvL+eul+WHuua7keWLleeahOatpeaVuFxyXG4gICAgICAgICAgICAgICAgTWF0aC5lYXNlSW5PdXRRdWFkID0gZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0IC89IGQvMjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCA8IDEpIHJldHVybiBjLzIqdCp0ICsgYjtcclxuICAgICAgICAgICAgICAgICAgICB0LS07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1jLzIgKiAodCoodC0yKSAtIDEpICsgYjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZSArPSBpbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gTWF0aC5lYXNlSW5PdXRRdWFkKGN1cnJlbnRUaW1lLCBzdGFydEVsLCBjaGFuZ2UsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd2YWw6Jyx0eXBlb2YodmFsKSlcclxuICAgICAgICAgICAgICAgIGlmKHN0YXJ0RWwuc2Nyb2xsVG9wID4gdGFyZ2V0Lm9mZnNldFRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RWwuc2Nyb2xsVG9wIC09IHBhcnNlSW50KHZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoc3RhcnRFbC5zY3JvbGxUb3AgPD0gdGFyZ2V0Lm9mZnNldFRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEVsLnNjcm9sbFRvcCA9ICB0YXJnZXQub2Zmc2V0VG9wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRFbC5zY3JvbGxUb3AgPSBwYXJzZUludCh2YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codmFsKVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhcnRFbC5zY3JvbGxUb3ApXHJcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50VGltZSA8IGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGVTY3JvbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBhbmltYXRlU2Nyb2xsKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBncmVjYXB0Y2hhOiBmdW5jdGlvbiAocGFnZSkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgZ3JlY2FwdGNoYS5leGVjdXRlKCc2TGZVbzdNVUFBQUFBSlFBTUwwOHJ1aFBlWVp2aWhMWWFWdnR1WXJKJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogcGFnZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLnJlQ2FwdGNoYSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdHb29nbGXpqZforYnlpLHmlZfvvIzoq4vlho3mrKHlmJfoqaZcXG7lpoLnhKHms5XmjpLpmaTmraTllY/poYzvvIzlu7rorbDph43mlrDmlbTnkIbmraTpoIHpnaInKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYUxpbms6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYWxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpO1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxhbGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFsaW5rc1tpXS5zZXRBdHRyaWJ1dGUoJ3JlbCcgLCdub3JlZmVycmVyIG5vb3BlbmVyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucHJvakFwaSA9IG5ldyBQcm9qZWN0QXBpKDg5LCBcImNYcjdMM1Bxby1HRi1PY0w3VTNtOEE9PVwiKTsgIC8vIHByb2plY3RJZCwgd2ViVG9la25cclxuICAgIH1cclxufSlcclxuIl19
