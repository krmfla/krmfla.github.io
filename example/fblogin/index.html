<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta content="width=device-width, user-scalable=no" name="viewport">
    <title>template</title>
    <style>
        /* Reset */
        body, h1, h2, p {
            margin: 0;
            padding: 20px;
        }
        .main {
            width: 100%;
            height: 100vh;
        }
        button {
            padding: 10px 20px;
        }
        #result {
            width: 80%;
            display: block;
            word-break: break-all;
            line-height: 150%'
        }
    </style>
</head>

<body>
  <p> ver 0.11 remove xfbml status </p>
  <script>
    window.fbAsyncInit = function() {
        FB.init({
            appId: '473587996563835',
            autoLogAppEvents : true,
            cookie : true,
            // status:true,
            // xfbml: false,
            version: 'v4.0'
        });
        FB.AppEvents.logPageView();
    };
    /*
    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {
            return;
        }
        js = d.createElement(s);
        js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
    */
    
  </script>
  <script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>
  <button id='btn'>login</button>
  <div id='result'></div>
  <script>
    var btn = document.getElementById('btn');
    var result = document.getElementById('result');
    btn.onclick = function() {
      FB.login(function(response) {
          if (response.status === 'connected') {
            var str = '';
            str += response.authResponse.userID + '\r\n';
            str += response.authResponse.accessToken;
            result.innerText = str;
          } else {
              alert('登入失敗, 請重新再試');
          }
      });
    }
  </script>
</body>
</html>
